@inherits AppComponentBase;

@inject IAppFacade Facade;

<ContextMenu CssClass="context-menu" Id="@ContextMenusIds.AssetsContextMenu">
    <Item OnClick="@OnAddAssets">
        Add Assets
    </Item>
    @if (context.Data != null)
    {
        <Item OnClick="@(() => OnRemoveAssets(context.Data))">
            Remove
        </Item>
    }
</ContextMenu>

@code {
    private void OnRemoveAssets(object data)
    {
        var assetItem = data as ProjectAssetItem;

        var assetsToDelete = TreeHelpers.GetAllChildAssetIds(assetItem!);

        Facade.RemoveAssets(assetsToDelete, CancellationToken);
    }

    private void OnAddAssets()
    {
        //TODO: Fix this
        //Facade.AddAssets();
    }

}