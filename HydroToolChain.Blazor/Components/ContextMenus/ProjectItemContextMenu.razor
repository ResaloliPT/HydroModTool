@using ProjectData = HydroToolChain.Blazor.DTOs.ProjectData
@inherits AppComponentBase;

@inject IAppFacade Facade;

<ContextMenu CssClass="context-menu" Id="@ContextMenusIds.ProjectItemContextMenu">
    <Item OnClick="@(() => OnEditClick(context.Data))">
        Edit
    </Item>
    <Item OnClick="@(() => OnDeleteClick(context.Data))">
        Delete
    </Item>
    <Item OnClick="@(() => OnOpenDistFolder(context.Data))">
        Open Output Folder
    </Item>
</ContextMenu>

@code
{
    private void OnDeleteClick(object data)
    {
        var projectId = data as Guid?;
    
        Facade.DeleteProject(projectId.Value, CancellationToken);
    }

    private void OnEditClick(object data)
    {
        var projectId = data as Guid?;
    
        Facade.EditProject(projectId.Value, CancellationToken);
    }
    
    private void OnOpenDistFolder(object data)
    {
        var projectId = data as Guid?;
    
        Facade.OpenDistFolder(projectId.Value);
    }
}