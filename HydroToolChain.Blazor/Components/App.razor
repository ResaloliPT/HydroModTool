@inherits AppComponentBase;
@inject IAppLoaderService _LoaderService;

<MudThemeProvider IsDarkMode="true"/>
<MudDialogProvider/>
<MudSnackbarProvider/>

<ContextMenus></ContextMenus>
<AppLoader />

<AppHeader OnSelectedPage="OnPageSelected" />
<AppContent SelectedPage="_selectedPage" />

@code
{
    private AppPages _selectedPage = AppPages.CreateMods;
    
    private void OnPageSelected(AppPages page)
    {
        _selectedPage = page;
    }

    protected override void OnAfterRender(bool firstRender)
    {
        base.OnAfterRender(firstRender);
        
        if (firstRender)
        {
            _LoaderService.RemoveLoader(LoadersNames.AppStarting);
        }
    }
}