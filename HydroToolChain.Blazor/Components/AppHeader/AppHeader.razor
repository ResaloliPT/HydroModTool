@inherits AppComponentBase;

@inject AppHeaderModel _model;

<MudGrid Spacing="0" Justify="Justify.FlexStart" Style="padding: 10px">
    <MudItem sm="5">
        <MudButtonGroup Variant="Variant.Filled">
            <MudButton OnClick="@(() => SelectedPage(AppPages.CreateMods))">Create Mods</MudButton>
            <MudButton OnClick="@(() => SelectedPage(AppPages.About))">About</MudButton>
        </MudButtonGroup>
    </MudItem>
    <MudItem sm="2">
        <MudButtonGroup Variant="Variant.Filled">
            <MudTooltip Text="Import backup files or configs from old app">
                <MudButton OnClick="@(() => _model.LoadSettings(CancellationToken))">Load</MudButton>
            </MudTooltip>
            
            <MudTooltip Text="Create backups or partial files to share">
                <MudButton OnClick="@(() => _model.SaveSettings(CancellationToken))">Save</MudButton>
            </MudTooltip>
        </MudButtonGroup>
    </MudItem>
    <MudItem sm="5">
        <MudText Typo="Typo.h6" Align="Align.Right">
            <MudTooltip Text="Open this tool Github!">
                <MudLink Href="https://github.com/ResaloliPT/HydroModTool/" Typo="Typo.h6">
                    Hydroneer Modding Toolchain
                </MudLink>
            </MudTooltip>
        </MudText>
    </MudItem>
</MudGrid>

@code
{
    [Parameter]
    [EditorRequired]
    public EventCallback<AppPages> OnSelectedPage { get; set; }

    private async Task SelectedPage(AppPages page)
    {
        await OnSelectedPage.InvokeAsync(page);
    }
}
